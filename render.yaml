services:
  - type: web
    name: wyze-pulse
    runtime: node
    plan: free
    region: oregon
    branch: main
    autoDeploy: true
    buildCommand: corepack enable && pnpm install --frozen-lockfile && pnpm build
    startCommand: pnpm start -- -p $PORT -H 0.0.0.0
    healthCheckPath: /
    envVars:
      - key: NODE_ENV
        value: production
      - key: TIMEZONE
        value: America/Los_Angeles
      - key: DATA_CONNECTORS
        value: sample

      # Optional (only needed if you enable non-sample connectors)
      - key: OPENAI_API_KEY
        sync: false
      - key: RSS_FEEDS
        sync: false
      - key: REDDIT_CLIENT_ID
        sync: false
      - key: REDDIT_CLIENT_SECRET
        sync: false
      - key: REDDIT_REFRESH_TOKEN
        sync: false
      - key: REDDIT_QUERY
        sync: false
      - key: REDDIT_SUBREDDITS
        sync: false

